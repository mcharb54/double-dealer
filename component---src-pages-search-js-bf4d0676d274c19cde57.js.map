{"version":3,"file":"component---src-pages-search-js-bf4d0676d274c19cde57.js","mappings":"qNAI0C,IAAAA,EAAA,CAAAC,KAAA,UAAAC,OAAA,uBAAAC,EAAA,CAAAF,KAAA,SAAAC,OAAA,sHAAAE,EAAA,CAAAH,KAAA,SAAAC,OAAA,cAAAG,EAAA,CAAAJ,KAAA,SAAAC,OAAA,uFAAAI,EAAA,CAAAL,KAAA,SAAAC,OAAA,2CAAAK,EAAA,CAAAN,KAAA,QAAAC,OAAA,0CAAAM,EAAA,CAAAP,KAAA,UAAAC,OAAA,8DAE3B,SAASO,EAAUC,GAAY,IAAX,KAAEC,GAAMD,EACzC,MAAM,EAACE,EAAM,EAACC,IAAYC,EAAAA,EAAAA,UAAS,IAE7BC,EAAWJ,EAAKK,kBAAkBC,MAClCC,EAAUN,EAAMO,OAClBJ,EAASK,OAAOC,IAAe,IAAd,KAAEC,GAAMD,EACvB,MAAME,EAAIX,EAAMY,cAChB,OACEF,EAAKG,YAAYC,MAAMF,cAAcG,SAASJ,IAC9CD,EAAKG,YAAYG,OAAOJ,cAAcG,SAASJ,IAC/CD,EAAKO,QAAQL,cAAcG,SAASJ,KAGxC,GAEJ,OACEO,EAAAA,EAAAA,GAACC,EAAAA,EAAM,MACLD,EAAAA,EAAAA,GAAA,MACEE,IAAGxB,GAKJ,WAGDsB,EAAAA,EAAAA,GAAA,YACAA,EAAAA,EAAAA,GAAA,YACAA,EAAAA,EAAAA,GAACG,EAAAA,KAAI,CAACC,GAAG,WAAWF,IAAGzB,IACrBuB,EAAAA,EAAAA,GAAA,MAAIE,IAAG1B,GAAoD,gBAI7DwB,EAAAA,EAAAA,GAAA,YACAA,EAAAA,EAAAA,GAAA,YACAA,EAAAA,EAAAA,GAAA,SACEK,KAAK,OACLC,YAAY,sCACZC,MAAOzB,EACP0B,SAAUC,GAAK1B,EAAS0B,EAAEC,OAAOH,OACjCL,IAAG3B,IAQJO,EAAMO,QAA6B,IAAnBD,EAAQuB,SACvBX,EAAAA,EAAAA,GAAA,KAAGE,IAAG5B,GAAqB,yBAAuBQ,EAAM,MAEzDM,EAAQwB,IAAIC,IAAA,IAAC,KAAErB,GAAMqB,EAAA,OACpBb,EAAAA,EAAAA,GAAA,OAAKc,IAAKtB,EAAKuB,GAAIb,KAAKA,EAAAA,EAAAA,IAAG,kBAAkBc,EAAAA,EAAAA,GAAO,GAAE,UACpDhB,EAAAA,EAAAA,GAACG,EAAAA,KAAI,CACHC,GAAIZ,EAAKyB,OAAOC,KAChBhB,IAAG7B,IAUH2B,EAAAA,EAAAA,GAAA,MAAIE,KAAKA,EAAAA,EAAAA,IAAG,kBAAkBc,EAAAA,EAAAA,GAAO,EAAI,GAAE,SACxCxB,EAAKG,YAAYC,SAGtBI,EAAAA,EAAAA,GAAA,KAAGE,IAAGhC,GAAgC,MAChCsB,EAAKG,YAAYG,OAAO,MAAIN,EAAKG,YAAYwB,OAEnDnB,EAAAA,EAAAA,GAAA,SAAIR,EAAKO,YAKnB,C","sources":["webpack://double-dealer/./src/pages/search.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { graphql, Link } from \"gatsby\";\nimport { css } from \"@emotion/react\";\nimport { rhythm } from \"../utils/typography\";\nimport Layout from \"../components/layout\";\n\nexport default function SearchPage({ data }) {\n  const [query, setQuery] = useState(\"\");\n\n  const allPosts = data.allMarkdownRemark.edges;\n  const results = query.trim()\n    ? allPosts.filter(({ node }) => {\n        const q = query.toLowerCase();\n        return (\n          node.frontmatter.title.toLowerCase().includes(q) ||\n          node.frontmatter.writer.toLowerCase().includes(q) ||\n          node.excerpt.toLowerCase().includes(q)\n        );\n      })\n    : [];\n\n  return (\n    <Layout>\n      <h1\n        css={css`\n          display: inline-block;\n          border-bottom: 1px solid;\n          color: inherit;\n        `}\n      >\n        Search\n      </h1>\n      <br />\n      <br />\n      <Link to=\"/search2\" css={css`display: inline-block; font-style: normal;`}>\n        <h5 css={css`color: #0080c0; text-decoration: underline;`}>\n          Dark Theme\n        </h5>\n      </Link>\n      <br />\n      <br />\n      <input\n        type=\"text\"\n        placeholder=\"Search articles, fiction, archives…\"\n        value={query}\n        onChange={e => setQuery(e.target.value)}\n        css={css`\n          width: 100%;\n          padding: 8px 12px;\n          font-size: 1rem;\n          border: 1px solid #ccc;\n          margin-bottom: 24px;\n        `}\n      />\n      {query.trim() && results.length === 0 && (\n        <p css={css`color: grey;`}>No results found for \"{query}\".</p>\n      )}\n      {results.map(({ node }) => (\n        <div key={node.id} css={css`margin-bottom: ${rhythm(1)};`}>\n          <Link\n            to={node.fields.slug}\n            css={css`\n              text-decoration: none;\n              color: inherit;\n              &:hover {\n                text-decoration: underline;\n                color: inherit;\n                text-decoration-color: #0080c0;\n              }\n            `}\n          >\n            <h2 css={css`margin-bottom: ${rhythm(1 / 4)};`}>\n              {node.frontmatter.title}\n            </h2>\n          </Link>\n          <p css={css`color: grey; margin: 0;`}>\n            By {node.frontmatter.writer} — {node.frontmatter.date}\n          </p>\n          <p>{node.excerpt}</p>\n        </div>\n      ))}\n    </Layout>\n  );\n}\n\nexport const query = graphql`\n  query {\n    allMarkdownRemark(\n      sort: { frontmatter: { date: DESC } }\n      limit: 1000\n    ) {\n      edges {\n        node {\n          id\n          excerpt(pruneLength: 200)\n          frontmatter {\n            date(formatString: \"MMMM DD, YYYY\")\n            title\n            writer\n          }\n          fields {\n            slug\n          }\n        }\n      }\n    }\n  }\n`;\n"],"names":["_ref","name","styles","_ref2","_ref3","_ref4","_ref5","_ref6","_ref7","SearchPage","_ref8","data","query","setQuery","useState","allPosts","allMarkdownRemark","edges","results","trim","filter","_ref9","node","q","toLowerCase","frontmatter","title","includes","writer","excerpt","___EmotionJSX","Layout","css","Link","to","type","placeholder","value","onChange","e","target","length","map","_ref0","key","id","rhythm","fields","slug","date"],"sourceRoot":""}