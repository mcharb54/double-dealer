{"version":3,"file":"component---src-pages-archives-js-0bccf817d63802e1771f.js","mappings":"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","sources":["webpack://double-dealer/./node_modules/react-bootstrap/esm/divWithClassName.js","webpack://double-dealer/./node_modules/react-bootstrap/esm/CardImg.js","webpack://double-dealer/./node_modules/react-bootstrap/esm/Card.js","webpack://double-dealer/./src/pages/archives.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport React from 'react';\nimport classNames from 'classnames';\nexport default (function (className) {\n  return /*#__PURE__*/React.forwardRef(function (p, ref) {\n    return /*#__PURE__*/React.createElement(\"div\", _extends({}, p, {\n      ref: ref,\n      className: classNames(p.className, className)\n    }));\n  });\n});","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"bsPrefix\", \"className\", \"variant\", \"as\"];\nimport classNames from 'classnames';\nimport React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar defaultProps = {\n  variant: null\n};\nvar CardImg = /*#__PURE__*/React.forwardRef( // Need to define the default \"as\" during prop destructuring to be compatible with styled-components github.com/react-bootstrap/react-bootstrap/issues/3595\nfunction (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      className = _ref.className,\n      variant = _ref.variant,\n      _ref$as = _ref.as,\n      Component = _ref$as === void 0 ? 'img' : _ref$as,\n      props = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  var prefix = useBootstrapPrefix(bsPrefix, 'card-img');\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    ref: ref,\n    className: classNames(variant ? prefix + \"-\" + variant : prefix, className)\n  }, props));\n});\nCardImg.displayName = 'CardImg';\nCardImg.defaultProps = defaultProps;\nexport default CardImg;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"bsPrefix\", \"className\", \"bg\", \"text\", \"border\", \"body\", \"children\", \"as\"];\nimport classNames from 'classnames';\nimport React, { useMemo } from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport createWithBsPrefix from './createWithBsPrefix';\nimport divWithClassName from './divWithClassName';\nimport CardContext from './CardContext';\nimport CardImg from './CardImg';\nvar DivStyledAsH5 = divWithClassName('h5');\nvar DivStyledAsH6 = divWithClassName('h6');\nvar CardBody = createWithBsPrefix('card-body');\nvar CardTitle = createWithBsPrefix('card-title', {\n  Component: DivStyledAsH5\n});\nvar CardSubtitle = createWithBsPrefix('card-subtitle', {\n  Component: DivStyledAsH6\n});\nvar CardLink = createWithBsPrefix('card-link', {\n  Component: 'a'\n});\nvar CardText = createWithBsPrefix('card-text', {\n  Component: 'p'\n});\nvar CardHeader = createWithBsPrefix('card-header');\nvar CardFooter = createWithBsPrefix('card-footer');\nvar CardImgOverlay = createWithBsPrefix('card-img-overlay');\nvar defaultProps = {\n  body: false\n};\nvar Card = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      className = _ref.className,\n      bg = _ref.bg,\n      text = _ref.text,\n      border = _ref.border,\n      body = _ref.body,\n      children = _ref.children,\n      _ref$as = _ref.as,\n      Component = _ref$as === void 0 ? 'div' : _ref$as,\n      props = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  var prefix = useBootstrapPrefix(bsPrefix, 'card');\n  var cardContext = useMemo(function () {\n    return {\n      cardHeaderBsPrefix: prefix + \"-header\"\n    };\n  }, [prefix]);\n  return /*#__PURE__*/React.createElement(CardContext.Provider, {\n    value: cardContext\n  }, /*#__PURE__*/React.createElement(Component, _extends({\n    ref: ref\n  }, props, {\n    className: classNames(className, prefix, bg && \"bg-\" + bg, text && \"text-\" + text, border && \"border-\" + border)\n  }), body ?\n  /*#__PURE__*/\n  // @ts-ignore\n  React.createElement(CardBody, null, children) : children));\n});\nCard.displayName = 'Card';\nCard.defaultProps = defaultProps;\nCard.Img = CardImg;\nCard.Title = CardTitle;\nCard.Subtitle = CardSubtitle;\nCard.Body = CardBody;\nCard.Link = CardLink;\nCard.Text = CardText;\nCard.Header = CardHeader;\nCard.Footer = CardFooter;\nCard.ImgOverlay = CardImgOverlay;\nexport default Card;","import { useState } from \"react\";\nimport SEO from \"../components/SEO\";\nimport { Helmet } from \"react-helmet\";\nimport { graphql, Link } from \"gatsby\";\nimport { css } from \"@emotion/react\";\nimport Layout from \"../components/layout\";\nimport { rhythm } from \"../utils/typography\";\nimport Card from \"react-bootstrap/Card\";\nimport { GatsbyImage, getImage } from \"gatsby-plugin-image\";\nimport { useTheme } from \"../context/ThemeContext\";\n\nexport default function ArchivesPage({ data }) {\n  const { dark } = useTheme();\n  const [query, setQuery] = useState(\"\");\n\n  const cardBorder = dark\n    ? \"1px solid rgba(255, 255, 255, .875)\"\n    : \"1px solid rgba(0, 0, 0, .125)\";\n\n  const inputBg = dark ? \"#111\" : \"#fff\";\n  const inputFg = dark ? \"#fff\" : \"#000\";\n  const inputBorder = dark ? \"1px solid #666\" : \"1px solid #ccc\";\n\n  // Filter by title or writer\n  const q = query.toLowerCase();\n  const filtered = data.allMarkdownRemark.edges.filter(({ node }) => {\n    if (!q) return true;\n    const title = (node.frontmatter.title || \"\").toLowerCase();\n    const writer = (node.frontmatter.writer || \"\").toLowerCase();\n    return title.includes(q) || writer.includes(q);\n  });\n\n  // Group by issue\n  const groups = {};\n  filtered.forEach(({ node }) => {\n    const issue = node.frontmatter.issue || \"Uncategorized\";\n    if (!groups[issue]) {\n      groups[issue] = { issueDate: node.frontmatter.issue_date, items: [] };\n    }\n    groups[issue].items.push(node);\n  });\n\n  // Sort issues by date of their first item\n  const sortedIssues = Object.keys(groups).sort((a, b) => {\n    const dateA = groups[a].items[0]?.frontmatter.rawDate || \"\";\n    const dateB = groups[b].items[0]?.frontmatter.rawDate || \"\";\n    return dateA < dateB ? -1 : dateA > dateB ? 1 : 0;\n  });\n\n  return (\n    <Layout>\n      <SEO title=\"Archives\" />\n      <Helmet>\n        <style type=\"text/css\">{`\n          .card {\n            font-family: 'Playfair Display', serif;\n            background-color: inherit;\n            color: inherit;\n            width: 100%;\n            margin: 0;\n            padding: 0;\n            border: none;\n            border-bottom: ${cardBorder};\n          }\n        `}</style>\n      </Helmet>\n      <h1\n        css={css`\n          display: inline-block;\n          border-bottom: 1px solid;\n          text-align: center;\n          color: inherit;\n        `}\n      >\n        Archives\n      </h1>\n      <br />\n      <br />\n      <h6 css={css`color: inherit;`}>\n        From 1921–26, The Double Dealer was operated from New Orleans as, \"A\n        National Magazine for the South.\" The magazine featured works from\n        literary giants like William Faulkner, Djuna Barnes, Ernest Hemingway,\n        Robert Penn Warren, Thornton Wilder and Hart Crane as well as many other\n        writers more lost to time.\n        <br />\n        <br />\n        Here in our archives, we will be reviving a selection of those works\n        over time.\n      </h6>\n      <br />\n\n      {/* Search */}\n      <div\n        css={css`\n          margin-bottom: ${rhythm(1)};\n        `}\n      >\n        <input\n          type=\"text\"\n          placeholder=\"Search by title or author…\"\n          value={query}\n          onChange={(e) => setQuery(e.target.value)}\n          css={css`\n            width: 100%;\n            padding: 8px 12px;\n            background: ${inputBg};\n            color: ${inputFg};\n            border: ${inputBorder};\n            font-family: 'Playfair Display', serif;\n            font-size: 0.95rem;\n            outline: none;\n            &::placeholder {\n              color: ${dark ? \"#aaa\" : \"#888\"};\n            }\n          `}\n        />\n      </div>\n\n      {filtered.length === 0 && (\n        <p css={css`color: inherit; font-style: italic;`}>No results found.</p>\n      )}\n\n      {sortedIssues.map((issue) => {\n        const { issueDate, items } = groups[issue];\n        return (\n          <div key={issue} css={css`margin-bottom: ${rhythm(1.5)};`}>\n            <h3\n              css={css`\n                font-family: 'Playfair Display', serif;\n                border-bottom: 1px solid;\n                padding-bottom: 4px;\n                margin-bottom: ${rhythm(1 / 2)};\n                color: inherit;\n              `}\n            >\n              {issue}\n              {issueDate && (\n                <span\n                  css={css`\n                    font-size: 0.75em;\n                    font-weight: normal;\n                    margin-left: 12px;\n                    opacity: 0.7;\n                  `}\n                >\n                  {issueDate}\n                </span>\n              )}\n            </h3>\n            {items.map((node) => (\n              <Card bsPrefix=\"card\" key={node.id}>\n                <Card.Body>\n                  <Link\n                    to={node.fields.slug}\n                    css={css`\n                      text-decoration: none;\n                      color: inherit;\n                      &:hover {\n                        text-decoration: underline;\n                        color: inherit;\n                        text-decoration-color: #0080c0;\n                      }\n                    `}\n                  >\n                    {node.frontmatter.cover_image && (\n                      <GatsbyImage\n                        image={getImage(node.frontmatter.cover_image)}\n                        alt={node.frontmatter.title}\n                      />\n                    )}\n                    <Card.Title>\n                      <h2\n                        css={css`\n                          margin-top: ${rhythm(1 / 4)};\n                          margin-bottom: ${rhythm(1 / 4)};\n                          text-align: center;\n                          font-size: 1.2rem;\n                        `}\n                      >\n                        {node.frontmatter.title}\n                      </h2>\n                    </Card.Title>\n                  </Link>\n                  <Card.Subtitle className=\"mb-2 text-muted text-center\">\n                    {node.frontmatter.writer}\n                  </Card.Subtitle>\n                  <Card.Text>{node.excerpt}</Card.Text>\n                </Card.Body>\n              </Card>\n            ))}\n          </div>\n        );\n      })}\n    </Layout>\n  );\n}\n\nexport const query = graphql`\n  query {\n    allMarkdownRemark(\n      sort: { frontmatter: { date: ASC } }\n      filter: { fileAbsolutePath: { regex: \"/archives/\" } }\n      limit: 1000\n    ) {\n      totalCount\n      edges {\n        node {\n          id\n          excerpt(pruneLength: 150)\n          frontmatter {\n            rawDate: date\n            title\n            writer\n            issue\n            issue_date\n            cover_image {\n              childImageSharp {\n                gatsbyImageData(height: 560, layout: CONSTRAINED)\n              }\n            }\n          }\n          fields {\n            slug\n          }\n        }\n      }\n    }\n  }\n`;\n"],"names":["className","p","ref","_excluded","CardImg","_ref","bsPrefix","variant","_ref$as","as","Component","props","prefix","displayName","defaultProps","DivStyledAsH5","divWithClassName","DivStyledAsH6","CardBody","createWithBsPrefix","CardTitle","CardSubtitle","CardLink","CardText","CardHeader","CardFooter","CardImgOverlay","Card","bg","text","border","body","children","cardContext","useMemo","cardHeaderBsPrefix","CardContext","Provider","value","Img","Title","Subtitle","Body","Link","Text","Header","Footer","ImgOverlay","name","styles","_ref2","_ref3","_ref4","_ref5","ArchivesPage","_ref6","data","dark","useTheme","query","setQuery","useState","cardBorder","inputBg","inputFg","inputBorder","q","toLowerCase","filtered","allMarkdownRemark","edges","filter","_ref7","node","title","frontmatter","writer","includes","groups","forEach","_ref8","issue","issueDate","issue_date","items","push","sortedIssues","Object","keys","sort","a","b","_groups$a$items$","_groups$b$items$","dateA","rawDate","dateB","___EmotionJSX","Layout","SEO","Helmet","type","css","rhythm","placeholder","onChange","e","target","length","map","key","id","to","fields","slug","cover_image","GatsbyImage","image","getImage","alt","excerpt"],"sourceRoot":""}